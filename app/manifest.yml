app:
  id: ari:cloud:ecosystem::app/23392b90-4271-4239-98ca-a3e96c663cbb
  runtime:
    name: nodejs20.x

modules:
  macro:
    - key: mermaid-diagram
      resource: custom-ui
      title: Mermaid diagram
      description: Render a Mermaid diagram from a code block on a page
      config:
        function: render-diagram-config

  function:
    - key: render-diagram-config
      handler: render-diagram-config.run

resources:
  - key: custom-ui
    path: build/custom-ui
    tunnel:
      port: 5173

permissions:
  scopes:
    - 'read:page:confluence'
  content:
    styles:
      - 'unsafe-inline'
